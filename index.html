<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ø­Ù…Ø¯ Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ | Ù…Ø·ÙˆØ± ÙˆÙŠØ¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
     <link rel="stylesheet" href="screen.css">
     <link rel="stylesheet" href="lemon-theme.css" id="lemon-theme" disabled>

</head>
<body>

    <canvas id="space"></canvas>
    
    <header>
        <nav>
            <div >
                <ul class="nav-links">
                    <li><a href="index.html" data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="projects.html" data-i18n="projects">Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</a></li>
                    <li><a href="services.html" data-i18n="services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a></li>
                    <li><a href="about.html" data-i18n="about">Ù…Ù† Ø£Ù†Ø§</a></li>
                    <li><a href="contact.html" data-i18n="contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</a></li>

                    <div class="controls">
                        <button id="language-toggle" class="btn">en</button>
                        <button id="theme-toggle" class="btn">ğŸŒ™</button>  
                    </div>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ÙŠØ© ÙˆØ§Ù„ÙˆØµÙ -->
    

<section class="welcome-section" id="home">
    <div class="container">
        <!-- Ø§Ù„ÙƒØ§Ø±Øª Ø§Ù„Ù…Ø¯Ù…Ø¬ -->
        <div class="ramadan-welcome-card">
            <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
            <div class="welcome-content">
               
                <p class="typewriter-second" data-i18n="description"></p>
            </div>
            
            <!-- Ù…Ø­ØªÙˆÙ‰ Ø¹Ø±Ø¶ Ø±Ù…Ø¶Ø§Ù† -->
            <div class="ramadan-content"">
                <i class="fas fa-moon"></i>
                <h3 data-i18n="ramadan"></h3>

                  <p data-i18n="ard">Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©</p>



                <span class="discount" data-i18n="dis"></span><br>
                </p>

                <div class="offer-ends" data-i18n="end">   </div>
            </div>
        </div>
    </div>
</section>

       
   <div>
    <h1  class="gradient-text" data-i18n="nzra">Ù†Ø¸Ø±Ù‡ Ø³Ø±ÙŠØ¹Ù‡</h1>
    <div id="scrl">
        <div id="projects-scroll" class="projects-scroll"></div>
        <div id="project-display" class="project-display"></div>
    </div>
</div>


<section id="bot">
   <h1 data-i18n="msad">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯</h1>
    <div class="chat-container">
        <span id="bot-name" data-i18n="bot_name">Ù†ÙŠØ±Ùˆ</span>
        <div class="chat-box" id="chatBox"></div>
        <div class="chat-footer">
            <div class="input-container">
                <input  type="text" id="userInput" class="chat-input"  placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...">
                <button id="voice-btn"><i class="fas fa-microphone"></i></button>
            </div>
            <button onclick="sendMessage()" class="send-btn" data-i18n="sendbtn"></button>
        </div>
    </div>
</section>



    <section>
        <div class="random">
            <h2 data-i18n="idea"> </h2>
            <button onclick="generateIdea()" data-i18n="getidea">  </button>
            <div class="idea-container" id="ideaContainer"></div>
        </div>
    </section>  
    

 <section id="skills" class="skills-section">
    <h1 data-i18n="skills">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h1>
        <div class="container">
        
            
            <div class="skill" data-skill="javascript">
                <i class="fab fa-js"></i>
                <span class="skill-name" data-i18n="javascript">JavaScript</span>
                <div class="skill-bar">
                    <div class="skill-level" style="width: 75%; background-color: #f0db4f;">
                        <span class="skill-percent">75%</span>
                    </div>
                </div>
            </div>

            <div class="skill" data-skill="html">
                        <i class="fab fa-html5"></i>
                <span class="skill-name" data-i18n="html">HTML</span>
                <div class="skill-bar">
                    <div class="skill-level" style="width: 90%; background-color: #e34c26;">
                        <span class="skill-percent">90%</span>
                    </div>
                </div>
            </div>

            <div class="skill" data-skill="css">
   <i class="fab fa-css3-alt"></i>
                <span class="skill-name" data-i18n="css">CSS</span>
                <div class="skill-bar">
                    <div class="skill-level" style="width: 85%; background-color: #264de4;">
                        <span class="skill-percent">85%</span>
                    </div>
                </div>
            </div>

            <div class="skill" data-skill="react">
   <i class="fab fa-react"></i>
                <span class="skill-name" data-i18n="react">React</span>
                <div class="skill-bar">
                    <div class="skill-level" style="width: 70%; background-color: #61dbfb;">
                        <span class="skill-percent">70%</span>
                    </div>
                </div>
            </div>

            <div class="skill" data-skill="nodejs">
   <i class="fab fa-node-js"></i>
                <span class="skill-name" data-i18n="nodejs">Node.js</span>
                <div class="skill-bar">
                    <div class="skill-level" style="width: 65%; background-color: #68a063;">
                        <span class="skill-percent">65%</span>
                    </div>
                </div>
            </div>



<div class="skill" data-skill="php">
   <i class="fab fa-php"></i>
    <span class="skill-name" data-i18n="php">PHP</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 60%; background-color: #777BB3;">
            <span class="skill-percent">60%</span>
        </div>
    </div>
</div>

<div class="skill" data-skill="linux">
   <i class="fab fa-linux"></i>
    <span class="skill-name" data-i18n="linux">Linux</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 80%; background-color: #FCC624;">
            <span class="skill-percent">80%</span>
        </div>
    </div>
</div>


<div class="skill" data-skill="github">
   <i class="fab fa-github"></i>
    <span class="skill-name" data-i18n="github">GitHub</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 76%; background-color: #6e5494;">
            <span class="skill-percent">76%</span>
        </div>
    </div>
</div>


<div class="skill" data-skill="sql">
      <i class="fas fa-database"></i>
    <span class="skill-name" data-i18n="sql">SQL</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 74%; background-color: #00758F;">
            <span class="skill-percent">74%</span>
        </div>
    </div>
</div>

<div class="skill" data-skill="bootstrap">
    <i class="fab fa-bootstrap"></i>
    <span class="skill-name" data-i18n="bootstrap">Bootstrap</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 85%; background-color: #563D7C;">
            <span class="skill-percent">85%</span>
        </div>
    </div>
</div>
<div class="skill" data-skill="tailwind">
    <i class="fas fa-wind"></i>
    <span class="skill-name" data-i18n="tailwind">Tailwind CSS</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 80%; background-color: #38B2AC;">
            <span class="skill-percent">80%</span>
        </div>
    </div>
</div>
<div class="skill" data-skill="cordova">
    <i class="fas fa-mobile-alt"></i>
    <span class="skill-name" data-i18n="cordova">Cordova</span>
    <div class="skill-bar">
        <div class="skill-level" style="width: 70%; background-color: #E6710A;">
            <span class="skill-percent">70%</span>
        </div>
    </div>
</div>
        </div>
    </section>


<section class="quick-contact" id="contact">
    <div class="container">
        <h1 data-i18n="quick-contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</h1>
        <form id="quick-contact-form">
            <!-- Ø­Ù‚Ù„ Ø§Ù„Ø§Ø³Ù… -->
            <div class="form-group">
                <input type="text" id="name" name="name" placeholder="Ø§Ø³Ù…Ùƒ" required>
            
            </div>

            <!-- Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
            <div class="form-group">
                <input type="email" id="email" name="email" placeholder="Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                
            </div>

            <!-- Ø­Ù‚Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© -->
            <div class="form-group">
                <textarea id="message" name="message" placeholder="Ø±Ø³Ø§Ù„ØªÙƒ"required ></textarea>
          
            <div class="quick-btn">
  <!-- Ø²Ø± ÙˆØ§ØªØ³Ø§Ø¨ -->
  <button data-i18n="btnw" type="submit" class="whatsapp-btn">
    <i class="fab fa-whatsapp"></i>
    <span ></span>
  </button>

  <!-- Ø²Ø± Ø¬ÙŠÙ…ÙŠÙ„ -->
  <button data-i18n="btne" type="button" class="gmail-btn" id="send-email">
    <i class="fab fa-google"></i>
    <span ></span>
  </button>
</div>
        </form>
    </div>
</section>


<section class="statistics" id="stats">
    <div class="container">
        <h1 data-i18n="statistics">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h1>
        <div class="stats-grid">
            <div class="stat-card">
                <h3 data-i18n="projects-completed">Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªÙ…Ù„</h3>
                <p data-i18n="projects-count">50+</p>
            </div>
            <div class="stat-card">
                <h3 data-i18n="happy-clients">Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯</h3>
                <p data-i18n="clients-count">30+</p>
            </div>
            <div class="stat-card">
                <h3 data-i18n="years-experience">Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©</h3>
                <p data-i18n="experience-count">5+</p>
            </div>
            <!-- ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù‡Ù†Ø§ -->
        </div>
    </div>
</section>

    <script src="script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script>

document.addEventListener('DOMContentLoaded', function() {
    const projectsScroll = document.getElementById('projects-scroll');
    const projectDisplay = document.getElementById('project-display');
    const languageToggle = document.getElementById('language-toggle');

    let currentLanguage = localStorage.getItem('lang') || 'en';
    
    function loadProjects() {
        projectsScroll.innerHTML = '';
        fetch('projects.json')
            .then(response => response.json())
            .then(data => {
                data.projects.forEach(project => {
                    const projectItem = document.createElement('div');
                    projectItem.className = 'project-item';
                    projectItem.innerHTML = `
                        <img src="${project.thumb}" alt="${project.name[currentLanguage]}" draggable="false">
                        <span style="color: ${project.color};">${project.name[currentLanguage]}</span>
                    `;
                    
                    projectItem.addEventListener('click', () => {
                        showProject(project);
                    });

                    projectsScroll.appendChild(projectItem);
                });
            });
    }

    function showProject(project) {
        projectDisplay.innerHTML = `
            <div class="project-images">
                ${project.images.map(img => `
                    <div class="project-image">
                        <img src="${img}" alt="${project.name[currentLanguage]}">
                    </div>
                `).join('')}
            </div>
            <div class="project-content">
                <h2 style="color: ${project.color};">${project.name[currentLanguage]}</h2>
                <p style="color: ${project.color};">${project.description[currentLanguage]}</p>
                <div class="project-buttons">
                    <a href="${project.url}" target="_blank" 
   style="background-color: ${project.color}; color: inherit;">
    ${currentLanguage === 'en' ? 'Visit Website' : 'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹'}
</a>
                    <button id="show-more" style="background-color: ${project.color};">
                        ${currentLanguage === 'en' ? 'More Projects' : 'Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'}
                    </button>
                </div>
            </div>
        `;

        startSlideshow();

        document.getElementById('show-more').addEventListener('click', () => {
            window.location.href = 'projects.html';
        });
    }

    function startSlideshow() {
        const images = document.querySelectorAll('.project-image');
        let currentImage = 0;
        let touchStartX = 0;
        let touchEndX = 0;

        if (images.length > 0) {
            images.forEach((image, index) => {
                image.style.display = index === 0 ? 'block' : 'none';
            });

            function showImage(index) {
                images.forEach(image => image.style.display = 'none');
                images[index].style.display = 'block';
            }

            function nextImage() {
                currentImage = (currentImage + 1) % images.length;
                showImage(currentImage);
            }

            function prevImage() {
                currentImage = (currentImage - 1 + images.length) % images.length;
                showImage(currentImage);
            }

            let imageInterval = setInterval(nextImage, 4000);

            document.querySelector('.project-images').addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            });

            document.querySelector('.project-images').addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].clientX;
                handleSwipe();
            });

            function handleSwipe() {
                const swipeThreshold = 50;
                if (touchStartX - touchEndX > swipeThreshold) {
                    nextImage();
                } else if (touchEndX - touchStartX > swipeThreshold) {
                    prevImage();
                }
            }
        }
    }

    languageToggle.addEventListener('click', () => {
        currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
        localStorage.setItem('lang', currentLanguage);
        loadProjects();
        
        // Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ù‡ Ø§Ù„Ø³Ø·ÙˆØ± Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø± Ù…Ø¹ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        const currentText = languageToggle.textContent;
        languageToggle.textContent = currentText === 'en' ? 'ar' : 'en'; 
    });

    loadProjects();
});

</script>

<script>
    // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
    let fuse = null;
let cachedResponses = null;

// ØªÙ‡ÙŠØ¦Ø© Fuse.js
function initializeFuse(data) {
    const options = {
        keys: ['messages'],
        includeScore: true,
        threshold: 0.4, 
        minMatchCharLength: 2,
        ignoreLocation: true,
        shouldSort: true,
        findAllMatches: true,
        ignoreFieldNorm: true
    };
    fuse = new Fuse(data, options);
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø¯ÙˆØ¯
async function fetchResponses() {
    try {
        if (!cachedResponses) {
            const response = await fetch('responses.json');
            if (!response.ok) throw new Error('Failed to load responses');
            cachedResponses = await response.json();
            initializeFuse(cachedResponses);
        }
        return cachedResponses;
    } catch (error) {
        console.error('Error loading responses:', error);
        return {};
    }
}

// Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù„ØºØ©
function detectLanguage(text) {
    const englishRegex = /[a-zA-Z]/;
    return englishRegex.test(text) ? 'en' : 'ar';
}

// ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
function normalizeInput(input) {
    return input
        .trim()
        .toLowerCase()
        .replace(/[\u064B-\u065F\u0610-\u061A]/g, '')
        .replace(/[Ø¥Ø£Ø¢]/g, 'Ø§')
        .replace(/[Ù‰]/g, 'ÙŠ')
        .replace(/[Ø©]/g, 'Ù‡')
        .replace(/[^Ø¡-ÙŠa-zA-Z\s]/g, ' ')
        .replace(/\s+/g, ' ')
        .trim();
}

// Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙØ¶Ù„ ØªØ·Ø§Ø¨Ù‚
function findBestMatch(input, currentLang) {
    const normalizedInput = normalizeInput(input);
    
    if (!fuse) return null;
    
    const results = fuse.search(normalizedInput);
    
    if (results.length > 0 && results[0].score < 0.5) {
        const response = results[0].item.response;
        if (typeof response === 'object') {
            return response[currentLang] || response['en'] || response['ar'];
        }
        return response;
    }
    return null;
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª (TTS) - Ø¬Ø¹Ù„ Ø§Ù„Ø¨ÙˆØª ÙŠØªØ­Ø¯Ø«
function speak(text, lang = 'ar-SA') {
    let speech = new SpeechSynthesisUtterance(text);
    speech.lang = lang;
    speech.rate = 1;
    speech.pitch = 1;
    speech.volume = 1;
    window.speechSynthesis.speak(speech);
}

// Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙˆØª (STT) - Ø¬Ø¹Ù„ Ø§Ù„Ø¨ÙˆØª ÙŠØ³Ù…Ø¹
function startListening() {
    let recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'ar-SA';
    recognition.interimResults = false;
    recognition.maxAlternatives = 1;

    recognition.onresult = function(event) {
        let userSpeech = event.results[0][0].transcript;
        console.log("Ø³Ù…Ø¹Øª:", userSpeech);
        // ÙˆØ¶Ø¹ Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„ØµÙˆØªÙŠ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        document.getElementById('userInput').value = userSpeech;
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø£Ù†Ù‡Ø§ ØµÙˆØªÙŠØ©
        sendMessage(true);
    };

    recognition.onerror = function(event) {
        console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª:", event.error);
    };

    recognition.start();
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ Ù…Ø¹Ù„Ù…Ø© ØªØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: Ù†ØµÙŠ (false) Ø£Ùˆ ØµÙˆØªÙŠ (true)
async function sendMessage(isVoice = false) {
    try {
        const userInput = document.getElementById('userInput').value;
        if (!userInput.trim()) return;

        // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ù„ØºØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        const messageLang = detectLanguage(userInput);
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ØºØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹
        const siteLang = localStorage.getItem('lang') || 'ar';
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        const currentLang = messageLang === 'en' ? 'en' : siteLang;

        const chatBox = document.getElementById('chatBox');
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§
        chatBox.innerHTML += `<div class="message user">${userInput}</div>`;
        chatBox.scrollTop = chatBox.scrollHeight;
        // ØªÙ†Ø¸ÙŠÙ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        document.getElementById('userInput').value = '';

        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
        await fetchResponses();
        const bestMatch = findBestMatch(userInput, currentLang);
        const botResponse = bestMatch ? bestMatch : 
            (currentLang === 'ar' ? 
                "Ù„Ø§ Ø£ÙÙ‡Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ØŒ Ø¬Ø±Ø¨ Ø¥Ø­Ø¯Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:<br>â€¢ Ù…Ø§ Ù‡ÙŠ Ù…Ù‡Ø§Ø±Ø§ØªÙƒØŸ<br>â€¢ ÙƒÙŠÙ Ø£Ø¨Ø¯Ø£ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©ØŸ" :
                "I didn't understand, try these:<br>â€¢ What are your skills?<br>â€¢ How to start programming?");

        // Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ Ø§Ù„Ø¨ÙˆØª Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
        setTimeout(() => {
            chatBox.innerHTML += `<div class="message bot">${botResponse}</div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØµÙˆØªÙŠØ©ØŒ ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø±Ø¯ ØµÙˆØªÙŠÙ‹Ø§ Ø£ÙŠØ¶Ù‹Ø§
            if (isVoice) {
                speak(botResponse, currentLang === 'ar' ? 'ar-SA' : 'en-US');
            }
        }, 500);

    } catch (error) {
        console.error('Error:', error);
        const currentLang = localStorage.getItem('lang') || 'ar';
        const errorMessage = currentLang === 'ar' ? 
            "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…" : 
            "âš ï¸ System error occurred";
        document.getElementById('chatBox').innerHTML += 
            `<div class="message bot error">${errorMessage}</div>`;
    }
}

// ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†ØµÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter (Ø±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ© ÙÙ‚Ø·)
document.getElementById('userInput').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage(false);
});

// ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ (Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©)
document.getElementById('voice-btn').addEventListener('click', startListening);

// Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
window.addEventListener('DOMContentLoaded', async () => {
    try {
        await fetchResponses();
        console.log('Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„');
    } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©:', error);
    }
});
</script>
    
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

    
   

<script>
async function generateIdea() {
    try {
        // Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        const currentLang = localStorage.getItem('lang') || 'ar';
        
        const response = await fetch('ideas.json');
        const data = await response.json();
        const ideas = data[currentLang] || [];
        
        if(ideas.length > 0) {
            const randomIdea = ideas[Math.floor(Math.random() * ideas.length)];
            document.getElementById("ideaContainer").innerText = `âœ¨ ${randomIdea}`;
        } else {
            document.getElementById("ideaContainer").innerText = 
                currentLang === 'ar' ? "âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙÙƒØ§Ø± Ù…ØªØ§Ø­Ø©" : "âŒ No ideas available";
        }
    } catch (error) {
        const errorMsg = currentLang === 'ar' ? 
            "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙÙƒØ§Ø±" : 
            "âŒ Error loading ideas";
        document.getElementById("ideaContainer").innerText = errorMsg;
    }
}
</script>
<script>
document.querySelector(".whatsapp-btn").innerHTML = '<i class="fab fa-whatsapp"></i> Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©';
document.querySelector(".gmail-btn").innerHTML = '<i class="fab fa-google"></i> Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„';
</script>

</body>
</html>